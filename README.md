# Сервис уведомлений

Cервис управления рассылками API администрирования и получения статистики.
Разработан на python c Django REST framefork.

## Установка и запуск

1. Склонировать репозиторий с Github.com:
````
https://github.com/Povarenskiy/notification_service.git
````
2. В файле .evn заполнить необходимые данные ```TOKEN = '<your token>' EMAIL= '<email for statistics report>'```

3. Запуск docker-compose
````
docker-compose up -d
````
4. Создание администратора
````
docker-compose run web python manage.py createsuperuser
````
## Панель администратора
````
http://127.0.0.1:8000/admin/
````
## Тесты
````
docker-compose run web python manage.py test mailing_app
````
## Api

````http://127.0.0.1:8000/api/```` - api проекта

````http://127.0.0.1:8000/api/client/```` - клиенты

````http://127.0.0.1:8000/api/mailing/```` - рассылки 

````http://127.0.0.1:8000/api/mailing/<pk>/stat/```` - детальная статистика по конкретной рассылке  

````http://127.0.0.1:8000/api/mailing/fullstat/```` - общая статистика по созданным рассылкам с группировкой по статусам

````http://127.0.0.1:8000/api/message/```` - сообщения 


### Дополнительные задания

Опциональные пункты, выполнение любого количества из приведённого списка повышают ваши шансы на положительное решение о приёме
1. организовать тестирование написанного кода
3. подготовить docker-compose для запуска всех сервисов проекта одной командой
8. реализовать дополнительный сервис, который раз в сутки отправляет статистику по обработанным рассылкам на email
9. удаленный сервис может быть недоступен, долго отвечать на запросы или выдавать некорректные ответы. Необходимо организовать обработку ошибок и откладывание запросов при неуспехе для последующей повторной отправки. Задержки в работе внешнего сервиса никак не должны оказывать влияние на работу сервиса рассылок.
12. обеспечить подробное логирование на всех этапах обработки запросов, чтобы при эксплуатации была возможность найти в логах всю информацию по
* id рассылки - все логи по конкретной рассылке (и запросы на api и внешние запросы на отправку конкретных сообщений)
* id сообщения - по конкретному сообщению (все запросы и ответы от внешнего сервиса, вся обработка конкретного сообщения)
* id клиента - любые операции, которые связаны с конкретным клиентом (добавление/редактирование/отправка сообщения/…)


